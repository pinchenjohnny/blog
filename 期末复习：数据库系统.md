题型汇总

章节|作业试卷|补充
-|-|-
模式设计|判断是否符合范式<br>3NF分解|画ER图、ER图转模式<br>求属性闭包；候选码、超码；投影后的函数依赖<br>Chase法则检验无损连接<br>
SQL|文字描述写SQL、关系代数写SQL
数据存储|容量、存储密度<br>传输时间、寻道时间、旋转等待时间
数据表示|字段、记录、块长度
缓存管理|
索引|
查询优化|由关键统计值，计算关系代数的IO代价
join算法|不同算法最小内存、IO代价
日志|给出故障后的日志，写出恢复过程及结果
并发控制|判断冲突可串、视图可串<br>使用锁后调度
NoSQL|

关系模型术语|关系数据库术语
:-:|:-:
属性|字段
元组|记录


现实描述|ER图符号
-|-
实体|矩形
实体的属性|椭圆
实体间联系|菱形
弱实体|双边矩形
强弱联系|双边菱形
多值属性|双边椭圆

```
（1）转实体：一个实体一个模式。
（2）转联系
    （2.1）1:1型联系，两端模式中挑取一端加外键，并加联系上的属性。
    （2.2）1:N型联系，N端模式加外键，并加联系上的属性。
    （2.3）M:N型联系，生成新模式，属性要加上连接实体的主键。
```

员工号|分部|地点
-|-|-
1|A|北京
2|A|北京

员工号|分部
-|-
1|A
2|A

分部|地点
-|-
A|北京

3NF分解算法
```
（1）找到F的一个最小基本集，记为G
（2）对G中每个FD：U->A，分解出U并上A
（3）若分解结果的模式均不包含R的任一超码，则增加一个分解，其模式为R的任一超码。
```

BCNF分解算法
```
（1）求R的所有超码

while U->V，U不是超码:
    （2）计算U的闭包U+
    （3）将R分解为U+，U并上R\U+，记为S1，S2
    （4）分别求S1，S2上的FD和超码，FD左边不是超码时继续分解
```

元组\属性|U|V|W=R\U\V
-|-|-|-
t1|u1|*v1*|*w1*
t2|u1|v2|w2
t3|u1|*v1*|w2
t4|u1|v2|*w1*

4NF分解算法
```
（1）求R的所有超码

while U->->V，U不是超码:
    （2）计算U的闭包U+
    （3）将R分解为U并上V，U并上R\U\V，记为S1，S2
    （4）分别求S1，S2上的MVD和超码，MVD左边不是超码时继续分解
```

三级模式结构

外模式 view level：不同用户不同view，SQL中的view。如 学生只能看到自己的数据。

概念模式 logical level：平时所提的“模式”。

内模式 physical level：记录存储方式、索引方式等，不包括磁盘块大小，故不涉及磁道扇区（没那么底层）。一个数据库只有一个内模式。

级别|
-|
CPU|
内存（Buffer）|
外存（磁盘）|
磁盘阵列|

记录head<br>=记录长度+非定长字段指针（第一个以外）|病人ID|姓名|出生日期|保险号码|住址|病史
-|-|-|-|-|-|-

置换算法
```
（1）根据置换策略，找到待替换的frame。
（2）frame dirty时，page写回磁盘。
（3）读被请求的块到frame，pin-count置为1。
```

LRU
```
（1）pin-count=0时，frame append到替换队列。
（2）选择head替换。
```

Clock
```
（1）
```